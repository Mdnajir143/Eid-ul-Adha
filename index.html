<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eid Mubarak!</title>
    <style>
        :root {
            --primary-color: #0d0d2b; /* Deep indigo */
            --secondary-color: #2a2a4a; /* Darker purple-blue */
            --accent-gold: #FFD700; /* Gold */
            --accent-pink: #FF69B4; /* Hot Pink */
            --accent-cyan: #00FFFF; /* Cyan */
            --text-color: #f0f0f0;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--primary-color);
            background-image:
                radial-gradient(circle at 10% 10%, var(--accent-pink) 1px, transparent 1px),
                radial-gradient(circle at 90% 10%, var(--accent-cyan) 1px, transparent 1px),
                radial-gradient(circle at 50% 90%, var(--accent-gold) 1px, transparent 1px);
            background-size: 50px 50px; /* Adjust for dot density */
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px; /* Default padding for top, left, right */
            /* Adjusted bottom padding: 20px (original space) + 50px (ad height) + 10px (buffer/ad container padding) = 80px */
            padding-bottom: 80px; 
            overflow-x: hidden;
            text-align: center;
        }

        .container {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            padding: 25px 30px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            width: 100%;
            max-width: 450px; /* Max width for content */
            animation: fadeInPage 1s ease-out;
            /* z-index: 1; /* Ensure content is below ad overlay if needed, though fixed positioning handles this mostly */
        }

        @keyframes fadeInPage {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #eidGif {
            width: 80%;
            max-width: 280px;
            height: auto;
            border-radius: 15px;
            margin-bottom: 25px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 0 20px var(--accent-gold), 0 0 30px var(--accent-pink);
            animation: floatImage 4s ease-in-out infinite;
        }
        
        @keyframes floatImage {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        #greetingText {
            font-size: clamp(1.8em, 5vw, 2.5em); /* Responsive font size */
            font-weight: bold;
            margin-bottom: 30px;
            background: linear-gradient(90deg, var(--accent-gold), var(--accent-pink), var(--accent-cyan));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
            animation: fadeInText 1.5s ease-in-out 0.5s both; /* Delay for page fade in */
        }

        @keyframes fadeInText {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        #nameInput {
            width: 100%;
            padding: 14px 18px;
            margin-bottom: 20px;
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.15);
            color: var(--text-color);
            font-size: 1em;
            outline: none;
            transition: all 0.3s ease;
        }

        #nameInput::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        #nameInput:focus {
            border-color: var(--accent-cyan);
            box-shadow: 0 0 15px var(--accent-cyan);
        }

        button {
            padding: 14px 28px;
            font-size: 1.05em;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            background-size: 200% auto; /* For gradient animation */
            margin-top: 10px;
            width: 100%;
        }
        
        button:active {
            transform: scale(0.97);
        }

        #generateButton {
            background-image: linear-gradient(to right, var(--accent-pink) 0%, var(--accent-gold) 50%, var(--accent-pink) 100%);
            color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4); /* Pink shadow */
        }

        #generateButton:hover {
            background-position: right center; /* Change gradient direction */
            box-shadow: 0 6px 20px rgba(255, 105, 180, 0.6);
            border-color: var(--text-color); /* Outline */
        }

        #customMessage {
            margin-top: 25px;
            margin-bottom: 20px;
            font-size: clamp(1.1em, 4vw, 1.3em);
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            min-height: 60px; /* To prevent layout jumps */
            line-height: 1.6;
            color: var(--text-color);
            border-left: 5px solid var(--accent-gold);
            display: none; /* Hidden initially */
            animation: slideInMessage 0.5s ease-out;
        }

        @keyframes slideInMessage {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        #whatsappButton {
            background-color: #25D366; /* WhatsApp Green */
            color: white;
            display: none; /* Hidden initially */
            align-items: center;
            justify-content: center;
            gap: 10px; /* Space between icon and text */
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4);
            animation: popInButton 0.5s ease-out;
        }

        #whatsappButton:hover {
            background-color: #1DAE52;
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.6);
            border-color: white; /* Outline */
        }
        
        #whatsappButton svg {
            width: 22px;
            height: 22px;
            fill: currentColor;
        }

        @keyframes popInButton {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .audio-controls {
            margin-top: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #muteButton {
            background: var(--glass-bg);
            color: var(--text-color);
            border: 1px solid var(--glass-border);
            padding: 10px 15px;
            font-size: 0.9em;
            border-radius: 8px;
            cursor: pointer;
            width: auto; /* Override general button width */
        }

        #muteButton:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        /* Ad Container CSS */
        #bottomAdContainer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center; /* Centers the ad (which is 320px wide) */
            align-items: center;
            height: auto; /* Ad script defines its height (50px), container wraps it */
            padding: 5px 0; /* Adds 5px padding top/bottom around the ad iframe */
            /* background-color: rgba(0,0,0,0.1); /* Optional: for visualizing the ad bar */
            z-index: 9999; /* Ensures it's on the topmost layer */
        }


        /* Small device adjustments */
        @media (max-width: 480px) {
            .container {
                padding: 20px;
                /* margin-bottom: 60px; /* Add space for ad if body padding isn't enough or for specific control */
            }
            body {
                 /* If you want different base padding on small screens, adjust here first, then ensure padding-bottom is sufficient */
                 /* e.g., padding: 10px; padding-bottom: 70px; */
            }
            #eidGif {
                max-width: 220px;
                margin-bottom: 20px;
            }
            #greetingText {
                margin-bottom: 25px;
            }
            button {
                padding: 12px 20px;
                font-size: 1em;
            }
        }

    </style>
</head>
<body>

    <div class="container">
        <img src="eid.gif" alt="Eid Mubarak Animation" id="eidGif">

        <h1 id="greetingText">✨ Eid Mubarak! May this Eid bring joy, peace, and prosperity to all! ✨</h1>

        <input type="text" id="nameInput" placeholder="Enter your name">

        <button id="generateButton">Generate Eid Wish</button>

        <p id="customMessage"></p>

        <button id="whatsappButton">
            <svg viewBox="0 0 24 24">
                <path d="M19.21 4.79C17.23 2.79 14.69 1.73 12 1.73C7.03 1.73 3 5.76 3 10.73c0 1.61.42 3.14 1.21 4.48L3 20l5.02-1.2C9.29 19.58 10.62 20 12 20c4.97 0 9-4.03 9-8.97c0-2.69-1.06-5.23-3.04-7.24zm-7.21 13.47c-1.23 0-2.4-.35-3.42-1l-.25-.15l-2.54.62l.63-2.48l-.17-.26c-.73-1.13-1.12-2.45-1.12-3.82c0-4.09 3.32-7.41 7.41-7.41c2.03 0 3.89.79 5.24 2.14c1.35 1.35 2.14 3.21 2.14 5.24c0 4.09-3.32 7.41-7.41 7.41zm3.63-5.23c-.2-.1-.72-.35-1.03-.46c-.3-.11-.52-.16-.74.16c-.22.31-.78.97-.95 1.17c-.18.2-.35.22-.55.11c-.2-.1-.84-.31-1.6-.99c-.59-.54-1-1.2-1.12-1.4c-.12-.21 0-.33.09-.43c.08-.09.18-.22.27-.33c.09-.11.13-.18.2-.31c.06-.12.03-.23-.02-.33c-.05-.1-.52-1.25-.72-1.7c-.19-.44-.39-.37-.52-.38c-.12-.01-.26-.01-.4-.01c-.14 0-.38.05-.57.25c-.2.2-.77.75-.77 1.82c0 1.07.79 2.11.9 2.26c.11.16 1.54 2.39 3.74 3.3c.53.22.94.35 1.26.45c.55.16 1.05.14 1.44.09c.44-.06 1.36-.56 1.55-1.1c.19-.54.19-1 .13-1.1c-.06-.11-.21-.16-.4-.26z"></path>
            </svg>
            Share on WhatsApp
        </button>
        
        <div class="audio-controls">
            <audio id="backgroundMusic" src="song.mp3" loop></audio>
            <button id="muteButton">Mute 🔇</button>
        </div>
    </div>

    <!-- Ad Container -->
    <div id="bottomAdContainer">
        <script type="text/javascript">
            atOptions = {
                'key' : '36529b7a6065d1d31d4c0bfa081fc415',
                'format' : 'iframe',
                'height' : 50,
                'width' : 320,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/36529b7a6065d1d31d4c0bfa081fc415/invoke.js"></script>
    </div>

    <script>
        const nameInput = document.getElementById('nameInput');
        const generateButton = document.getElementById('generateButton');
        const customMessageDiv = document.getElementById('customMessage');
        const whatsappButton = document.getElementById('whatsappButton');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const muteButton = document.getElementById('muteButton');

        let isMuted = false; // Track mute state

        backgroundMusic.volume = 0.5;
        
        backgroundMusic.play().then(() => {
            console.log("Audio playing.");
            muteButton.textContent = 'Mute 🔇';
        }).catch(error => {
            console.log("Autoplay prevented by browser. User interaction required or music will start muted.");
            if (backgroundMusic.paused) {
                 muteButton.textContent = 'Play Music ▶️';
            }
        });

        muteButton.addEventListener('click', () => {
            if (backgroundMusic.paused) {
                backgroundMusic.play().then(() => {
                    backgroundMusic.muted = false;
                    isMuted = false;
                    muteButton.textContent = 'Mute 🔇';
                }).catch(error => console.error("Error playing audio:", error));
            } else {
                isMuted = !isMuted;
                backgroundMusic.muted = isMuted;
                muteButton.textContent = isMuted ? 'Unmute 🎵' : 'Mute 🔇';
            }
        });

        generateButton.addEventListener('click', () => {
            const name = nameInput.value.trim();
            if (name === "") {
                customMessageDiv.textContent = "⚠️ Please enter your name first! 😊";
                customMessageDiv.style.borderColor = "var(--accent-pink)";
                customMessageDiv.style.color = "var(--accent-pink)";
                whatsappButton.style.display = 'none';
            } else {
                const message = `Eid Mubarak from ${name}! 🎉 Wishing you happiness and blessings!`;
                customMessageDiv.textContent = message;
                customMessageDiv.style.borderColor = "var(--accent-gold)";
                customMessageDiv.style.color = "var(--text-color)"; 

                customMessageDiv.style.animation = 'none';
                void customMessageDiv.offsetWidth; 
                customMessageDiv.style.animation = 'slideInMessage 0.5s ease-out';
            }
            customMessageDiv.style.display = 'block'; 

            if (name !== "") {
                whatsappButton.style.display = 'inline-flex'; 
                whatsappButton.style.animation = 'none';
                void whatsappButton.offsetWidth; 
                whatsappButton.style.animation = 'popInButton 0.5s ease-out';
            }
        });

        whatsappButton.addEventListener('click', () => {
            const currentCustomMessage = customMessageDiv.textContent;
            let messageToShare = "Eid Mubarak! 🎉 Wishing you happiness and blessings!"; 

            if (currentCustomMessage && !currentCustomMessage.startsWith("⚠️")) {
                messageToShare = currentCustomMessage;
            } else {
                const name = nameInput.value.trim();
                if (name) {
                    messageToShare = `Eid Mubarak from ${name}! 🎉 Wishing you happiness and blessings!`;
                }
            }
            
            const siteUrl = window.location.href;
            const fullShareMessage = `${messageToShare}\n\nCreate your own greeting: ${siteUrl}`;
            const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(fullShareMessage)}`;
            
            window.open(whatsappUrl, '_blank');
        });

        setTimeout(() => { 
            if (backgroundMusic.paused && !backgroundMusic.ended) {
                muteButton.textContent = 'Play Music ▶️';
            } else if (backgroundMusic.muted) {
                muteButton.textContent = 'Unmute 🎵';
                isMuted = true;
            } else {
                muteButton.textContent = 'Mute 🔇';
                isMuted = false;
            }
        }, 100);

    </script>

</body>
</html>